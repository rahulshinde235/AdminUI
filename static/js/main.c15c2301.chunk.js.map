{"version":3,"sources":["components/Modal.js","components/UseTable.js","components/TableFooter.js","components/Table.js","App.js","index.js"],"names":["Modal","children","ReactDOM","createPortal","className","document","body","useTable","data","page","rowsPerPage","useState","tableRange","setTableRange","slice","setSlice","useEffect","range","num","Math","ceil","length","i","push","calculateRange","sliceData","TableFooter","setPage","map","el","index","onClick","Table","deleteDataHandler","updatedSelectedID","modalOpenHanlder","dataDeleteHandler","deleteMultiple","selectedID","setselectedID","type","value","id","onChange","name","email","role","e","target","onEditHandler","onDeleteHandler","App","setData","query","setquery","edit","setEdit","dataToDelete","setdataToDelete","useRef","fetch","then","res","json","rows","placeholder","filter","row","toLowerCase","indexOf","item","prevState","filtered","onSubmit","preventDefault","editedData","current","ref","required","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c15c2301.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./Modal.css\";\r\nconst Modal = ({ children }) => {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"modal-backdrop\">\r\n      <div className=\"modal\">{children}</div>\r\n    </div>,\r\n    document.body\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from \"react\";\r\n\r\n// ...\r\n\r\nconst useTable = (data, page, rowsPerPage) => {\r\n  const [tableRange, setTableRange] = useState([]);\r\n  const [slice, setSlice] = useState([]);\r\n  const calculateRange = (data, rowsPerPage) => {\r\n    const range = [];\r\n    const num = Math.ceil(data.length / rowsPerPage);\r\n    // let i = 1;\r\n    for (let i = 1; i <= num; i++) {\r\n      range.push(i);\r\n    }\r\n    return range;\r\n  };\r\n\r\n  const sliceData = (data, page, rowsPerPage) => {\r\n    return data.slice((page - 1) * rowsPerPage, page * rowsPerPage);\r\n  };\r\n  useEffect(() => {\r\n    const range = calculateRange(data, rowsPerPage);\r\n    setTableRange([...range]);\r\n\r\n    const slice = sliceData(data, page, rowsPerPage);\r\n    setSlice([...slice]);\r\n  }, [data, setTableRange, page, setSlice, rowsPerPage]);\r\n\r\n  return { slice, range: tableRange };\r\n};\r\n\r\nexport default useTable;\r\n","import React, { useEffect } from \"react\";\r\n\r\nconst TableFooter = ({ range, setPage, page, slice }) => {\r\n  useEffect(() => {\r\n    if (slice.length < 1 && page !== 1) {\r\n      setPage(page - 1);\r\n    }\r\n  }, [slice, page, setPage]);\r\n  return (\r\n    <div className=\"btn-footer\">\r\n      {range.map((el, index) => (\r\n        <button key={index} onClick={() => setPage(el)}>\r\n          {el}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableFooter;\r\n","import React, { useState } from \"react\";\r\n\r\nimport useTable from \"./UseTable\";\r\nimport TableFooter from \"./TableFooter\";\r\n\r\nconst Table = ({\r\n  data,\r\n  rowsPerPage,\r\n  deleteDataHandler,\r\n  updatedSelectedID,\r\n  modalOpenHanlder,\r\n  dataDeleteHandler,\r\n  deleteMultiple,\r\n}) => {\r\n  const [page, setPage] = useState(1);\r\n  const [selectedID, setselectedID] = useState(\"\");\r\n  const { slice, range } = useTable(data, page, rowsPerPage);\r\n  const onDeleteHandler = (e) => {\r\n    deleteDataHandler(e.target.value);\r\n  };\r\n  const onEditHandler = (e) => {\r\n    setselectedID(e.target.value);\r\n    updatedSelectedID(selectedID);\r\n    modalOpenHanlder();\r\n  };\r\n  const selectHandler = (id) => {\r\n    dataDeleteHandler(id);\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Role</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {slice.map((el) => (\r\n            <tr key={el.id}>\r\n              <td>\r\n                {\" \"}\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value={el.id}\r\n                  onChange={() => selectHandler(el.id)}\r\n                />\r\n              </td>\r\n              <td>{el.name}</td>\r\n              <td>{el.email}</td>\r\n              <td>{el.role}</td>\r\n              <td className=\"btn\">\r\n                <button value={el.id} onClick={(e) => onEditHandler(e)}>\r\n                  Edit\r\n                </button>\r\n                <button value={el.id} onClick={(e) => onDeleteHandler(e)}>\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <TableFooter range={range} slice={slice} setPage={setPage} page={page} />\r\n      <button className=\"btn-danger\" onClick={deleteMultiple}>\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React, { useEffect, useState, useRef } from \"react\";\nimport Modal from \"./components/Modal\";\n\nimport Table from \"./components/Table\";\n\nconst App = () => {\n  const [data, setData] = useState([]);\n  const [query, setquery] = useState(\"\");\n  const [edit, setEdit] = useState(false);\n  const [selectedID, setselectedID] = useState(\"\");\n  const [dataToDelete, setdataToDelete] = useState([]);\n  //data to delete\n  const dataDeleteHandler = (id) => {\n    setdataToDelete((prevState) => [...prevState, id]);\n  };\n  //Getting id for row to edit\n  const updatedSelectedID = (id) => {\n    setselectedID(id);\n  };\n  //refs\n  const name = useRef();\n  const email = useRef();\n  const role = useRef();\n\n  //editing data\n  const formHandler = (e) => {\n    e.preventDefault();\n    let editedData = data;\n    editedData[selectedID - 1].name = name.current.value;\n    editedData[selectedID - 1].email = email.current.value;\n    editedData[selectedID - 1].role = role.current.value;\n    setData(editedData);\n    setEdit(false);\n  };\n\n  //search component\n  const search = (rows) => {\n    return rows.filter(\n      (row) =>\n        row.name.toLowerCase().indexOf(query) > -1 ||\n        row.email.toLowerCase().indexOf(query) > -1 ||\n        row.role.toLowerCase().indexOf(query) > -1\n    );\n  };\n\n  //delete data handler\n  const deleteDataHandler = (id) => {\n    setData(data.filter((item) => item.id !== id));\n  };\n  //open modal handler\n  const modalOpenHanlder = () => {\n    setEdit(true);\n  };\n  useEffect(() => {\n    fetch(\n      \"https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json\"\n    )\n      .then((res) => res.json())\n      .then((data) => setData(data));\n  }, []);\n  const deleteMultiple = () => {\n    var filtered = data.filter(function (item) {\n      return dataToDelete.indexOf(item.id) === -1;\n    });\n    setData(filtered);\n  };\n\n  return (\n    <main>\n      {!data && <p>Data Loading</p>}\n      <div className=\"input-bar\">\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(e) => setquery(e.target.value)}\n          placeholder=\"Search via any tag \"\n        />\n      </div>\n      <div>\n        <Table\n          data={search(data)}\n          rowsPerPage={10}\n          deleteDataHandler={deleteDataHandler}\n          updatedSelectedID={updatedSelectedID}\n          modalOpenHanlder={modalOpenHanlder}\n          dataDeleteHandler={dataDeleteHandler}\n          deleteMultiple={deleteMultiple}\n        />\n      </div>\n      {edit && (\n        <Modal>\n          <form onSubmit={formHandler}>\n            <label>\n              Name: <input type=\"text\" ref={name} required />\n            </label>\n            <br />\n            <label>\n              Email: <input type=\"email\" ref={email} required />\n            </label>\n            <br />\n\n            <label>\n              Role: <input type=\"text\" ref={role} required />\n            </label>\n            <br />\n            <div className=\"modal-btn\">\n              <button type=\"button\" onClick={() => setEdit(false)}>\n                Close\n              </button>\n              <button type=\"submit\">Submit</button>\n            </div>\n          </form>\n        </Modal>\n      )}\n    </main>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}